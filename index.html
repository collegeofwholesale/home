diff --git a/index.html b/index.html
index 8eb015d8b9e0e2503ed37e650f0c3351c2a5465b..aec8c673f69d5df35ca7e068fbd1d252ec561d3c 100644
--- a/index.html
+++ b/index.html
@@ -518,92 +518,92 @@
     $("#kpi-close")?.replaceChildren(document.createTextNode(`${closePct}% of ARV`));
     const mao=Math.max(0,(arv*(discountPct/100))-repairs-(arv*(closePct/100))-fee);
     $("#mao")?.replaceChildren(document.createTextNode(new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(mao)));
     const low=Math.max(0,Math.round(mao*0.90)), hi=Math.max(0,Math.round(mao));
     $("#range")?.replaceChildren(document.createTextNode(`${new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(low)} – ${new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(hi)}`));
   }
   function getRates(){
     const r={...RATES};
     const map={ rate_paint_in:"paint_in_psf", rate_paint_out:"paint_out_psf", rate_floor:"floor_psf", rate_roof_sq:"roof_per_square", rate_window_each:"window_each", rate_elect:"elect_psf", rate_plumb:"plumb_psf" };
     Object.entries(map).forEach(([id,key])=>{ const el=$("#"+id); const v=+(el?el.value:0); if(v>0) r[key]=v; });
     return r;
   }
   function calcItemCost(it, sqft, rates){
     switch(it.type){
       case "psf": return sqft*(rates[it.rateKey]||0);
       case "roof":{ const roofArea=sqft*1.2, squares=roofArea/100; return squares*(rates.roof_per_square||0); }
       case "windows":{ const windows=Math.max(1,Math.round(sqft/200)); return windows*(rates.window_each||0); }
       case "kitchen":{ const qEl=$("#"+it.id+"_qty"); const qty=+(qEl?qEl.value:1); const kicker=Math.round((sqft/1000)*(rates.kitchen_sf_kicker||0)); return qty*((rates.kitchen_base||0)+kicker); }
       case "bath":{ const qEl=$("#"+it.id+"_qty"); const qty=+(qEl?qEl.value:1); return qty*(rates.bath_base||0); }
       case "hvac": return sqft<1200 ? (rates.hvac_small||0) : (sqft<=2000 ? (rates.hvac_med||0) : (rates.hvac_large||0));
       case "flat": return it.flat||0;
       default: return 0;
     }
   }
   function calcRepairs(){
-    const sel=$("#state"); if(!sel) return 0;
+    const sel=$("#state"); if(!sel) return null;
     const abbr=sel.value, mult=STATE_MULT[abbr]??1.00;
     const sfEl=$("#sqft"); const sqft=+(sfEl?sfEl.value:0);
-    if(!sqft||sqft<200){ alert("Enter square footage (≥200) for SF-based accuracy."); return 0; }
+    if(!sqft||sqft<200){ alert("Enter square footage (≥200) for SF-based accuracy."); return null; }
     const rates=getRates(); let total=0, chosen=[];
     LINE_ITEMS.forEach(it=>{
       const cb=$("#"+it.id);
       if(cb&&cb.checked){
         const raw=calcItemCost(it,sqft,rates), adj=raw*mult; total+=adj;
         chosen.push(`${it.label}: ${new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(adj)} (raw ${new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(raw)} × state ${mult.toFixed(2)})`);
       }
     });
     $("#repairsOut")?.replaceChildren(document.createTextNode(new Intl.NumberFormat(undefined,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(total)));
     const notes=$("#notes");
     if(notes){ notes.innerHTML=""; (chosen.length?chosen:["No items selected yet."]).forEach(t=>{ const li=document.createElement("li"); li.className="small"; li.textContent=t; notes.append(li); }); }
     return total;
   }
   function switchCalcTab(id){
     ["offer","repair","help"].forEach(t=>{
       const sec=$("#tab-"+t), btn=document.querySelector(`.tabBtn[data-tab="${t}"]`);
       if(!sec||!btn) return;
       if(t===id){ sec.classList.remove("hide"); btn.classList.add("active"); }
       else{ sec.classList.add("hide"); btn.classList.remove("active"); }
     });
   }
 
   document.addEventListener("DOMContentLoaded", ()=>{
     $("#year")?.replaceChildren(document.createTextNode(new Date().getFullYear()));
     applyLinks();
 
     buildStateDropdown(); buildLineItems();
 
     $$(".tabBtn").forEach(b=> b.addEventListener("click", ()=> switchCalcTab(b.dataset.tab)));
     $("#calcOffer")?.addEventListener("click", calcMAO);
     $("#resetOffer")?.addEventListener("click", ()=>{
       ["arv","repairs","discount","fee","closePct"].forEach(id=>{ const el=$("#"+id); if(el) el.value=""; });
       $("#discount")&&(document.getElementById("discount").value=70);
       $("#fee")&&(document.getElementById("fee").value=10000);
       $("#closePct")&&(document.getElementById("closePct").value=3);
       $("#mao")&&(document.getElementById("mao").textContent="$0");
       $("#range")&&(document.getElementById("range").textContent="$0 – $0");
       $("#kpi-discount")&&(document.getElementById("kpi-discount").textContent="70%");
       $("#kpi-fee")&&(document.getElementById("kpi-fee").textContent="$10,000");
       $("#kpi-close")&&(document.getElementById("kpi-close").textContent="3% of ARV");
     });
     $("#state")?.addEventListener("change", updateMultiplierPill);
     $("#detectState")?.addEventListener("click", detectStateFromAddress);
     $("#scanSqft")?.addEventListener("click", scanSqftFromAddress);
     $("#calcRepair")?.addEventListener("click", ()=>{ const t=calcRepairs(); void t; });
     $("#resetRepair")?.addEventListener("click", ()=>{
-      LINE_ITEMS.forEach(it=>{ const cb=$("#"+it.id); if(cb) cb.checked=false; if(it.qty){ const q=$("#"+it.id+"_qty"; if(q) q.value=it.val??1; }});
+      LINE_ITEMS.forEach(it=>{ const cb=$("#"+it.id); if(cb) cb.checked=false; if(it.qty){ const q=$("#"+it.id+"_qty"); if(q) q.value=it.val??1; } });
       $("#repairsOut")&&(document.getElementById("repairsOut").textContent="$0");
       $("#notes")&&(document.getElementById("notes").innerHTML='<li class="small">No items selected yet.</li>');
       ["rate_paint_in","rate_paint_out","rate_floor","rate_roof_sq","rate_window_each","rate_elect","rate_plumb"].forEach(id=>{ const el=$("#"+id); if(el) el.value=""; });
     });
     $("#sendToOffer")?.addEventListener("click", ()=>{
-      const t=calcRepairs(); if(t>0){ const rep=$("#repairs"); if(rep) rep.value=Math.round(t); switchCalcTab("offer"); const calcSec=$("#calc"); if(calcSec) calcSec.scrollIntoView({behavior:"smooth",block:"start"}); }
+      const t=calcRepairs(); if(t!==null && Number.isFinite(t)){ const rep=$("#repairs"); if(rep) rep.value=Math.round(t); switchCalcTab("offer"); const calcSec=$("#calc"); if(calcSec) calcSec.scrollIntoView({behavior:"smooth",block:"start"}); }
     });
-    $("#pullRepairs")?.addEventListener("click", ()=>{ const t=calcRepairs(); const rep=$("#repairs"); if(t>0 && rep) rep.value=Math.round(t); });
+    $("#pullRepairs")?.addEventListener("click", ()=>{ const t=calcRepairs(); const rep=$("#repairs"); if(t!==null && Number.isFinite(t) && rep) rep.value=Math.round(t); });
 
     window.addEventListener("hashchange", route);
     route();
   });
 })();
 </script>
 </body>
 </html>
